const productos_detalle = {
   "TC001": {
        categoria: "Tortas Cuadradas",
        nombre: "Torta Cuadrada de Chocolate",
        precio: "$45.000 CLP",
        descripcion: "Nuestra Torta Cuadrada de Chocolate está elaborada con cacao premium y relleno de ganache artesanal, acompañado de crujientes avellanas seleccionadas. Inspirada en recetas europeas tradicionales, esta torta combina suavidad y textura en cada capa. Es ideal para celebraciones especiales donde la calidad y el sabor intenso del chocolate marcan la diferencia.",
        imagen: "../img/TC001.jpg"
    },
    "TC002": {
        categoria: "Tortas Cuadradas",
        nombre: "Torta Cuadrada de Frutas",
        precio: "$50.000 CLP",
        descripcion: "Bizcocho de vainilla esponjoso acompañado de crema chantilly fresca y frutas de temporada cuidadosamente seleccionadas en huertos locales. Esta receta, con raíces en la repostería clásica francesa, ofrece un balance perfecto entre dulzura y frescura. Cada porción refleja nuestro compromiso con la calidad y los sabores naturales.",
        imagen: "../img/TC002.jpg"
    },
    "TT001": {
        categoria: "Tortas Circulares",
        nombre: "Torta Circular de Vainilla",
        precio: "$40.000 CLP",
        descripcion: "Esponjosa torta de vainilla elaborada con huevos frescos y esencia natural, inspirada en recetas de repostería casera transmitidas de generación en generación. Su suavidad y aroma delicado hacen que sea un clásico infaltable en cualquier celebración familiar.",
        imagen: "../img/TT001.jpg"
    },
    "TT002": {
        categoria: "Tortas Circulares",
        nombre: "Torta Circular de Manjar",
        precio: "$42.000 CLP",
        descripcion: "Torta circular rellena con el más tradicional manjar chileno y decorada con finas almendras tostadas. Esta receta, muy apreciada en las cocinas locales, combina dulzura y crocancia, evocando la repostería de antaño hecha en casa.",
        imagen: "../img/TT002.jpg"
    },
    "PI001": {
        categoria: "Postres Individuales",
        nombre: "Mousse de Chocolate",
        precio: "$5.000 CLP",
        descripcion: "Un mousse ligero y cremoso preparado con chocolate de alta pureza, que se derrite en la boca con cada cucharada. Inspirado en la repostería francesa, este postre individual refleja elegancia y sofisticación en su forma más simple.",
        imagen: "../img/PI001.jpg"
    },
    "PI002": {
        categoria: "Postres Individuales",
        nombre: "Tiramisú Clásico",
        precio: "$5.500 CLP",
        descripcion: "Clásico tiramisú italiano con capas de bizcocho embebido en café espresso y crema de mascarpone fresca. Su receta, originaria de la región del Véneto, resalta por su equilibrio entre el dulzor y la intensidad del café.",
        imagen: "../img/PI002.jpg"
    },
    "PSA001": {
        categoria: "Productos Sin Azúcar",
        nombre: "Torta Sin Azúcar de Naranja",
        precio: "$48.000 CLP",
        descripcion: "Una torta saludable con aroma cítrico, elaborada con jugo natural de naranjas frescas y endulzada sin azúcar refinada. Suave, esponjosa y deliciosa, mantiene el encanto de las recetas artesanales con un toque moderno y saludable.",
        imagen: "../img/PSA001.jpg"
    },
    "PSA002": {
        categoria: "Productos Sin Azúcar",
        nombre: "Cheesecake Sin Azúcar",
        precio: "$47.000 CLP",
        descripcion: "Cheesecake cremoso con base crocante y libre de azúcar, perfecto para quienes buscan un postre ligero y lleno de sabor. Inspirado en la repostería neoyorquina, conserva su textura aterciopelada y un gusto inconfundible.",
        imagen: "../img/PSA002.jpg"
    },
    "PT001": {
        categoria: "Pastelería Tradicional",
        nombre: "Empanada de Manzana",
        precio: "$3.000 CLP",
        descripcion: "Clásica empanada rellena con manzanas frescas, un toque de canela y masa dorada al horno. Este postre, de raíces europeas, evoca las tardes familiares y el aroma hogareño de la repostería de antaño.",
        imagen: "../img/PT001.jpg"
    },
    "PT002": {
        categoria: "Pastelería Tradicional",
        nombre: "Tarta de Santiago",
        precio: "$6.000 CLP",
        descripcion: "Tradicional tarta gallega hecha a base de almendras molidas, azúcar y huevos, espolvoreada con azúcar glas en la superficie. Esta receta con siglos de historia es un homenaje a la repostería española más auténtica.",
        imagen: "../img/PT002.jpg"
    },
    "PG001": {
        categoria: "Productos Sin Gluten",
        nombre: "Brownie Sin Gluten",
        precio: "$4.000 CLP",
        descripcion: "Brownie intenso de chocolate preparado sin harinas con gluten, con una textura húmeda y un sabor profundo. Inspirado en la repostería estadounidense, este postre garantiza placer para todos sin perder autenticidad.",
        imagen: "../img/PG001.jpg"
    },
    "PG002": {
        categoria: "Productos Sin Gluten",
        nombre: "Pan Sin Gluten",
        precio: "$3.500 CLP",
        descripcion: "Pan artesanal elaborado con harinas alternativas, suave y esponjoso, ideal para quienes buscan opciones saludables. Su receta combina tradición panadera con innovación moderna para una experiencia única en cada bocado.",
        imagen: "../img/PG002.jpg"
    },
    "PV001": {
        categoria: "Productos Vegana",
        nombre: "Torta Vegana de Chocolate",
        precio: "$50.000 CLP",
        descripcion: "Torta elaborada 100% con ingredientes de origen vegetal, destacando cacao orgánico y leches vegetales. Inspirada en la repostería vegana contemporánea, logra un sabor intenso y una textura húmeda que sorprende a todos.",
        imagen: "../img/PV001.jpg"
    },
    "PV002": {
        categoria: "Productos Vegana",
        nombre: "Galletas Veganas de Avena",
        precio: "$4.500 CLP",
        descripcion: "Crujientes galletas de avena elaboradas sin ingredientes de origen animal. Con un sabor rústico y natural, evocan las recetas caseras que promueven un estilo de vida más consciente y saludable.",
        imagen: "../img/PV002.jpg"
    },
    "TE001": {
        categoria: "Tortas Especiales",
        nombre: "Torta Especial de Cumpleaños",
        precio: "$55.000 CLP",
        descripcion: "Colorida torta diseñada para celebrar cumpleaños inolvidables. Elaborada con bizcochos suaves, rellenos personalizados y decoraciones temáticas, une tradición pastelera con creatividad para marcar momentos únicos.",
        imagen: "../img/TE001.jpg"
    },
    "TE002": {
        categoria: "Tortas Especiales",
        nombre: "Torta Especial de Boda",
        precio: "$60.000 CLP",
        descripcion: "Elegante torta de varios pisos, diseñada con delicadeza para bodas. Con bizcochos finos, rellenos sofisticados y decoraciones artesanales, representa la unión de tradición repostera y detalles románticos para un día inolvidable.",
        imagen: "../img/TE002.jpg"
    }
};


const params = new URLSearchParams(window.location.search);
const id = params.get("id");

// Mostrar datos en la página
if (productos_detalle[id]) {
    document.getElementById("categoria").textContent = productos_detalle[id].categoria;
    document.getElementById("nombre").textContent = productos_detalle[id].nombre;
    document.getElementById("precio").textContent = productos_detalle[id].precio;
    document.getElementById("descripcion").textContent = productos_detalle[id].descripcion;
    document.getElementById("img").src = productos_detalle[id].imagen;
    document.getElementById("img").alt = productos_detalle[id].nombre;
    document.title = productos_detalle[id].nombre + " - Pastelería Mil Sabores";
} else {
    document.querySelector(".producto").innerHTML =
        "<h2>Producto no encontrado</h2><a href='catalogo.html'>Volver al catálogo</a>";
}

// --- Personalización ---
document.addEventListener("DOMContentLoaded", () => {
    const chkPersonalizacion = document.getElementById("chkPersonalizacion");
    const mensajeInput = document.getElementById("mensajePersonalizado");

    if (chkPersonalizacion && mensajeInput) {
        chkPersonalizacion.addEventListener("change", () => {
            mensajeInput.style.display = chkPersonalizacion.checked ? "block" : "none";
        });
    }

    // Validar al agregar al carrito
    const btnAgregar = document.getElementById("btnAgregarCarrito");
    if (btnAgregar) {
        btnAgregar.addEventListener("click", () => {
            let mensaje = "";
            if (chkPersonalizacion.checked) {
                mensaje = mensajeInput.value.trim();
                if (mensaje.length > 30) {
                    alert("El mensaje no puede superar los 30 caracteres.");
                    return;
                }
            }
            console.log("Producto agregado:", productos_detalle[id].nombre, " | Mensaje:", mensaje || "Sin mensaje");
            // Aquí iría tu lógica para agregar al carrito con el mensaje
        });
    }
});