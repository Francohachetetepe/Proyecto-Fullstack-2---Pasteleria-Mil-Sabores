<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saludo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="../CSS/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
</head>
<body>

    <!-- HEADER -->
  <header class="header">
    <!-- ðŸ”¹ LOGO -->
    <div class="logo">
      <a href="../../index.html">
        <img src="../img/logo-fndo-blanco.png" alt="Logo de la tienda">
      </a>
    </div>
    
    <div class="header-center">
      <!-- ðŸ”¹ BLOQUE CENTRAL (buscador + navbar) -->
      <div class="search-container">
        <input type="text" id="buscador" placeholder="Buscar productos..." class="search-input">
        <button id="btnBuscar" class="btn-buscar">Buscar</button>
      </div>
      
      <nav class="navbar">
        <a href="../../index.html"class="nav-link">Inicio</a>
        <a href="catalogo.html" class="nav-link">CategorÃ­as âŒ„</a>
        <a href="oferta.html" class="nav-link">Oferta</a>
        <a href="nosotros.html" class="nav-link">Nosotros</a>
        <a href="blogs.html"class="nav-link">Blogs</a>
        <a href="contacto.html"class="nav-link">Contacto</a>
      </nav>
    </div>
    
    <!-- ðŸ”¹ BLOQUE DERECHO (login + carrito) -->
    <div class="header-right">
      <div class="auth-buttons">
        <button class="btn-login" onclick="window.location.href='inicio_sesion.html'">Iniciar SesiÃ³n</button>
        <button class="btn-signup" onclick="window.location.href='registro_usuario.html'">Crear Cuenta</button>
      </div>
      <button class="btn-carrito" onclick="window.location.href='carrito.html'">
          <span class="carrito-icon">ðŸ›’</span>
          Total: $<span class="carrito-total">0</span>
        </button>
    </div>
  </header>

    <div class="layout">
  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <button id="toggleSidebar" class="toggle-btn">â˜°</button>
    <ul>
        <li><a href="#"><i class="bi bi-house"></i><span>home</span></a></li>
        <li><a href="#"><i class="bi bi-clock-history"></i><span>Historial</span></a></li>
        <li><a href="#"><i class="bi bi-star"></i><span>Mis valoraciones</span></a></li>
        <li><a href="#"><i class="bi bi-bag-check"></i><span>Mis pedidos</span></a></li>
        <li><a href="#"><i class="bi bi-bell"></i><span>Notificaciones</span></a></li>
        <li><a href="#"><i class="bi bi-gear"></i><span>Ajustes</span></a></li>
        <li><a href="../../index.html"><i class="bi bi-shop"></i><span>Tienda</span></a></li>
        <li>
            <button id="cerrarSesion" class="sidebar-btn">
                <i class="bi bi-door-closed"></i>
                <span class="btn-text">Cerrar sesiÃ³n</span>
            </button>
        </li>
    </ul>
  </aside>

    <!-- Contenido principal -->
    <main class="p-4 flex-grow-1">
      <h1 id="bienvenido" class="mb-3">Bienvenido!</h1> <!-- agregar nombre -->
      <p>Detalles perfil.</p>
    </main>
  </div>

  <script src="/assets/js/saludo.js"></script>

  <script>
    // Mostrar nombre en el header si hay usuario
    const usuarioStr = localStorage.getItem("usuario");
    const textoUsuario = document.getElementById("textoUsuario");
    const linkUsuario = document.getElementById("linkUsuario");
    if (usuarioStr) {
      const usuario = JSON.parse(usuarioStr);
      textoUsuario.innerText = `Hola, ${usuario.nombre}`;
      linkUsuario.href = "/assets/page/saludo.html";
    } else {
      textoUsuario.innerText = "Iniciar sesiÃ³n";
      linkUsuario.href = "/assets/page/inicio_sesion.html";
    }

    // botÃ³n de cerrar sesiÃ³n
    const btnCerrar = document.getElementById("cerrarSesion");
    btnCerrar.addEventListener("click", () => {
      localStorage.removeItem("usuario");
      window.location.href = "/assets/page/inicio_sesion.html";
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
