{"ast":null,"code":"import { addUser } from \"./Services/firestoreService\";\nimport { validarRun, validarCorreo, validarPassword, validarPasswordsIguales, validarEdad } from \"./utils/validaciones\";\nfunction esPaginaEstatica() {\n  return window.location.pathname.includes('.html') || window.location.pathname.includes('/assets/');\n}\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const form = document.getElementById(\"formUsuario\");\n  const runInput = document.getElementById(\"run\");\n  const nombreInput = document.getElementById(\"nombre\");\n  const apellidosInput = document.getElementById(\"apellidos\");\n  const correoInput = document.getElementById(\"correo\");\n  const passwordInput = document.getElementById(\"password\");\n  const confirmPasswordInput = document.getElementById(\"confirmPassword\");\n  const fechaNacimientoInput = document.getElementById(\"fechaNacimiento\");\n  const mensaje = document.getElementById(\"mensaje\");\n\n  //validación de conexión\n  if (!form) return console.log(\"No se encontro #formUsuario\");\n  form.addEventListener(\"submit\", async e => {\n    e.preventDefault();\n    mensaje.innerText = \"\";\n    const run = runInput.value.trim().toUpperCase();\n    const nombre = nombreInput.value.trim();\n    const apellidos = apellidosInput.value.trim();\n    const correo = correoInput.value.trim();\n    const password = passwordInput.value;\n    const confirmPassword = confirmPasswordInput.value;\n    const fechaNacimiento = fechaNacimientoInput.value;\n\n    //validar el ingreso correcto de los datos\n    if (!validarRun(run)) return mensaje.innerText = \"Run incorrecto\";else if (!nombre) return mensaje.innerText = \"Nombre en blanco\";else if (!apellidos) return mensaje.innerText = \"Apellidos en blanco\";else if (!validarCorreo(correo)) return mensaje.innerText = \"Correo incorrecto\";else if (!validarPassword(password)) return mensaje.innerText = \"Contraseña debe tener más de 6 dígitos\";else if (!validarPasswordsIguales(password, confirmPassword)) return mensaje.innerText = \"Las contraseñas no coinciden\";else if (!validarEdad(fechaNacimiento)) return mensaje.innerText = \"Debes ser mayor de 18 años para registrarte\";\n    try {\n      await addUser({\n        run,\n        nombre,\n        apellidos,\n        correo,\n        contrasena,\n        fecha_nacimiento\n      });\n      mensaje.innerText = \"El formulario fue enviado correctamente :) \";\n      setTimeout(() => {\n        window.location.href = \"login.html\";\n      }, 1000);\n    } catch (error) {\n      console.error(\"Error al guardar usuario: \", error);\n      mensaje.innerText = \"Error al guardar usuario en Firebase\";\n    }\n  });\n});","map":{"version":3,"names":["addUser","validarRun","validarCorreo","validarPassword","validarPasswordsIguales","validarEdad","esPaginaEstatica","window","location","pathname","includes","document","addEventListener","form","getElementById","runInput","nombreInput","apellidosInput","correoInput","passwordInput","confirmPasswordInput","fechaNacimientoInput","mensaje","console","log","e","preventDefault","innerText","run","value","trim","toUpperCase","nombre","apellidos","correo","password","confirmPassword","fechaNacimiento","contrasena","fecha_nacimiento","setTimeout","href","error"],"sources":["C:/Users/rmnnn/Desktop/Proyecto FS2/Proyecto-Fullstack-2---Pasteleria-Mil-Sabores/src/index.js"],"sourcesContent":["import { addUser } from \"./Services/firestoreService\";\r\nimport {validarRun, validarCorreo, validarPassword, validarPasswordsIguales, validarEdad} from \"./utils/validaciones\";\r\n\r\n\r\nfunction esPaginaEstatica() {\r\n  return window.location.pathname.includes('.html') || \r\n         window.location.pathname.includes('/assets/');\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const form = document.getElementById(\"formUsuario\");\r\n  const runInput = document.getElementById(\"run\");\r\n  const nombreInput = document.getElementById(\"nombre\");\r\n  const apellidosInput = document.getElementById(\"apellidos\");\r\n  const correoInput = document.getElementById(\"correo\");\r\n  const passwordInput = document.getElementById(\"password\");\r\n  const confirmPasswordInput = document.getElementById(\"confirmPassword\");\r\n  const fechaNacimientoInput = document.getElementById(\"fechaNacimiento\");\r\n  const mensaje = document.getElementById(\"mensaje\");\r\n\r\n  //validación de conexión\r\n  if(!form) return console.log(\"No se encontro #formUsuario\")\r\n\r\n    form.addEventListener(\"submit\", async (e) => {\r\n      e.preventDefault();\r\n\r\n      mensaje.innerText = \"\" ;\r\n\r\n      const run = runInput.value.trim().toUpperCase();\r\n      const nombre = nombreInput.value.trim();\r\n      const apellidos = apellidosInput.value.trim();\r\n      const correo = correoInput.value.trim();\r\n      const password = passwordInput.value;\r\n      const confirmPassword = confirmPasswordInput.value;\r\n      const fechaNacimiento = fechaNacimientoInput.value;\r\n\r\n\r\n     //validar el ingreso correcto de los datos\r\n     if(!validarRun(run)) return mensaje.innerText = \"Run incorrecto\";\r\n     else if(!nombre) return mensaje.innerText = \"Nombre en blanco\"; \r\n     else if(!apellidos) return mensaje.innerText = \"Apellidos en blanco\";  \r\n     else if(!validarCorreo(correo)) return mensaje.innerText = \"Correo incorrecto\"; \r\n     else if(!validarPassword(password)) return mensaje.innerText = \"Contraseña debe tener más de 6 dígitos\";\r\n     else if(!validarPasswordsIguales(password, confirmPassword)) return mensaje.innerText = \"Las contraseñas no coinciden\"; \r\n     else if(!validarEdad(fechaNacimiento)) return mensaje.innerText = \"Debes ser mayor de 18 años para registrarte\";\r\n\r\n    \r\n     try{\r\n      await addUser({run, nombre, apellidos, correo, contrasena, fecha_nacimiento});\r\n      mensaje.innerText = \"El formulario fue enviado correctamente :) \";\r\n      \r\n      setTimeout(() => {\r\n        window.location.href = \"login.html\";\r\n      }, 1000);\r\n\r\n     } catch (error) {\r\n      console.error(\"Error al guardar usuario: \", error);\r\n      mensaje.innerText = \"Error al guardar usuario en Firebase\"\r\n\r\n     }\r\n    });\r\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}