{"ast":null,"code":"import { addUser } from \"./Services/firestoreService\";\nimport { validarRun, validarCorreo, validarPassword, validarEdad } from \"./utils/validaciones\";\n//preguntar si se pone validarCamposVacios y validarCodigoPromo\n\nfunction esPaginaEstatica() {\n  return window.location.pathname.includes('.html') || window.location.pathname.includes('/assets/');\n}\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const form = document.getElementById(\"formUsuario\");\n  const runInput = document.getElementById(\"run\");\n  const nombreInput = document.getElementById(\"nombre\");\n  const apellidosInput = document.getElementById(\"apellidos\");\n  const correoInput = document.getElementById(\"correo\");\n  const contrasenaInput = document.getElementById(\"contrasena\");\n  const fechaNacimientoInput = document.getElementById(\"fecha_nacimiento\");\n  const mensaje = document.getElementById(\"mensaje\");\n\n  //validación de conexión\n  if (!form) return console.log(\"No se encontro #formUsuario\");\n  form.addEventListener(\"submit\", async e => {\n    e.preventDefault();\n    mensaje.innerText = \"\";\n    const run = runInput.value.trim().toUpperCase();\n    const nombre = nombreInput.value.trim();\n    const apellidos = apellidosInput.value.trim();\n    const correo = correoInput.value.trim();\n    const contrasena = contrasenaInput.value;\n    const fecha_nacimiento = fechaNacimientoInput.value;\n\n    //validar el ingreso correcto de los datos\n    if (!validarRun(run)) return mensaje.innerText = \"Run incorrecto\";\n    if (!nombre) return mensaje.innerText = \"Nombre en blanco\";\n    if (!apellidos) return mensaje.innerText = \"Apellidos en blanco\";\n    if (!validarCorreo(correo)) return mensaje.innerText = \"Correo incorrecto\";\n    if (!validarPassword(contrasena)) return mensaje.innerText = \"Contraseña debe tener más de 6 dígitos\";\n    if (!validarEdad(fecha_nacimiento)) return mensaje.innerText = \"tiene x años\"; //la verdad no sé que poner aquí, o si va, esta validación es para el código promocional\n\n    try {\n      await addUser({\n        run,\n        nombre,\n        apellidos,\n        correo,\n        contrasena,\n        fecha_nacimiento\n      });\n      mensaje.innerText = \"El formulario fue enviado correctamente :) \";\n      setTimeout(() => {\n        window.location.href = \"login.html\";\n      }, 1000);\n    } catch (error) {\n      console.error(\"Error al guardar usuario: \", error);\n      mensaje.innerText = \"Error al guardar usuario en Firebase\";\n    }\n  });\n});","map":{"version":3,"names":["addUser","validarRun","validarCorreo","validarPassword","validarEdad","esPaginaEstatica","window","location","pathname","includes","document","addEventListener","form","getElementById","runInput","nombreInput","apellidosInput","correoInput","contrasenaInput","fechaNacimientoInput","mensaje","console","log","e","preventDefault","innerText","run","value","trim","toUpperCase","nombre","apellidos","correo","contrasena","fecha_nacimiento","setTimeout","href","error"],"sources":["C:/Users/Duoc/Desktop/ejercicio/Proyecto-Fullstack-2---Pasteleria-Mil-Sabores/src/index.js"],"sourcesContent":["import { addUser } from \"./Services/firestoreService\";\r\nimport {validarRun, validarCorreo, validarPassword, validarEdad} from \"./utils/validaciones\";\r\n//preguntar si se pone validarCamposVacios y validarCodigoPromo\r\n\r\nfunction esPaginaEstatica() {\r\n  return window.location.pathname.includes('.html') || \r\n         window.location.pathname.includes('/assets/');\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const form = document.getElementById(\"formUsuario\");\r\n  const runInput = document.getElementById(\"run\");\r\n  const nombreInput = document.getElementById(\"nombre\");\r\n  const apellidosInput = document.getElementById(\"apellidos\");\r\n  const correoInput = document.getElementById(\"correo\");\r\n  const contrasenaInput = document.getElementById(\"contrasena\");\r\n  const fechaNacimientoInput = document.getElementById(\"fecha_nacimiento\");\r\n  const mensaje = document.getElementById(\"mensaje\");\r\n\r\n  //validación de conexión\r\n  if(!form) return console.log(\"No se encontro #formUsuario\")\r\n\r\n    form.addEventListener(\"submit\", async (e) => {\r\n      e.preventDefault();\r\n      mensaje.innerText = \"\" ;\r\n\r\n      const run = runInput.value.trim().toUpperCase();\r\n      const nombre = nombreInput.value.trim();\r\n      const apellidos = apellidosInput.value.trim();\r\n      const correo = correoInput.value.trim();\r\n      const contrasena = contrasenaInput.value;\r\n      const fecha_nacimiento = fechaNacimientoInput.value;\r\n\r\n\r\n     //validar el ingreso correcto de los datos\r\n     if(!validarRun(run)) return mensaje.innerText = \"Run incorrecto\"; \r\n     if(!nombre) return mensaje.innerText = \"Nombre en blanco\"; \r\n     if(!apellidos) return mensaje.innerText = \"Apellidos en blanco\";  \r\n     if(!validarCorreo(correo)) return mensaje.innerText = \"Correo incorrecto\"; \r\n     if(!validarPassword(contrasena)) return mensaje.innerText = \"Contraseña debe tener más de 6 dígitos\";\r\n     if(!validarEdad(fecha_nacimiento)) return mensaje.innerText = \"tiene x años\"; //la verdad no sé que poner aquí, o si va, esta validación es para el código promocional\r\n\r\n    \r\n     try{\r\n      await addUser({run, nombre, apellidos, correo, contrasena, fecha_nacimiento});\r\n      mensaje.innerText = \"El formulario fue enviado correctamente :) \";\r\n      \r\n      setTimeout(() => {\r\n        window.location.href = \"login.html\";\r\n      }, 1000);\r\n\r\n     } catch (error) {\r\n      console.error(\"Error al guardar usuario: \", error);\r\n      mensaje.innerText = \"Error al guardar usuario en Firebase\"\r\n\r\n     }\r\n    });\r\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}